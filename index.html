<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Terminal Portfolio</title>
        <style>
            /* Catppuccin Mocha Color Palette */
            :root {
                --base: #1e1e2e;
                --text: #cdd6f4;
                --blue: #89b4fa;
                --green: #a6e3a1;
                --yellow: #f9e2af;
                --red: #f38ba8;
                --lavender: #b4befe;
                --teal: #94e2d5;
                --peach: #fab387;
            }
            body {
                background-color: var(--base);
                color: var(--text);
                font-family: "Courier New", monospace;
                margin: 0;
                padding: 20px;
                line-height: 1.6;
            }
            #terminal {
                background-color: rgba(30, 30, 46, 0.9);
                border: 2px solid var(--blue);
                border-radius: 10px;
                height: 800px;
                overflow-y: scroll;
                padding: 15px;
                width: 100%;
                max-width: 1500px;
                margin: 0 auto;
            }
            #input-line {
                display: flex;
            }
            #input-line::before {
                content: "âžœ";
                color: var(--peach);
                margin-right: 10px;
            }
            #command-input {
                background: transparent;
                border: none;
                color: var(--text);
                font-family: "Courier New", monospace;
                font-size: 16px;
                outline: none;
                width: 100%;
            }
            .output {
                color: var(--text);
            }
            .error {
                color: var(--red);
            }
            .command {
                color: var(--blue);
            }
            .project-name {
                color: var(--lavender);
                font-weight: bold;
            }
            .project-description {
                color: var(--text);
            }
            .project-repo {
                color: var(--green);
                text-decoration: underline;
            }
        </style>
    </head>
    <body>
        <div id="terminal">
            <div id="output"></div>
            <div id="input-line">
                <input type="text" id="command-input" autocomplete="off" />
            </div>
        </div>
        <script>
            // Terminal configuration
            const terminal = {
                output: document.getElementById("output"),
                input: document.getElementById("command-input"),
                currentDirectory: "~/",
                currentProjects: null,
                projects: {
                    "data-analytics": [
                        {
                            name: "Personal Finance Dashboard",
                            summary:
                                "Dashboard written in python to help track personal finances and investments.",
                            technologies: [
                                "Python",
                                "Pandas",
                                "Dash",
                                "Plotly",
                            ],
                            repo: "https://github.com/Ratludu/Personal-Finance-Dashboard",
                        },
                        {
                            name: "Perth House Prices",
                            summary:
                                "Python based dashboard that visualizes house prices in Perth, Australia. It incorporates a simple elastic net model to predict house prices.",
                            technologies: ["Python", "Pandas", "scikit-learn"],
                            repo: "https://github.com/Ratludu/House_Price_DB",
                        },
                    ],
                    "data-science": [
                        {
                            name: "Kaggle Backpack Prediction",
                            summary:
                                "Competitive machine learning project to predict the price of backpacks. The project used a single cat boost model with a lot of feature eningeering. This resulted in a top 1% soltion! (15/3393) see private leaderboard (https://www.kaggle.com/competitions/playground-series-s5e2/leaderboard).",
                            technologies: [
                                "Python",
                                "Pandas",
                                "Numpy",
                                "Scikit-learn",
                                "Weights and Biases",
                                "Optuna",
                                "CatBoost",
                                "Nvidia RAPIDS",
                            ],
                            repo: "https://github.com/Ratludu/Backpack-Prediction-Challenge",
                        },
                    ],
                },
                contacts: {
                    github: "https://github.com/Ratludu",
                    kaggle: "https://www.kaggle.com/endingshostler",
                },
                init() {
                    this.input.addEventListener("keyup", (e) => {
                        if (e.key === "Enter") {
                            this.handleCommand(this.input.value.trim());
                            this.input.value = "";
                        }
                    });
                    // Add clear on Ctrl+L
                    document.addEventListener("keydown", (e) => {
                        if (e.ctrlKey && e.key === "l") {
                            e.preventDefault();
                            this.clearTerminal();
                        }
                    });
                    this.printWelcome();
                },
                handleCommand(command) {
                    // Echo the command
                    this.printLine(
                        `<span class="command">${this.currentDirectory} $ ${command}</span>`,
                    );
                    // Command parsing
                    const [cmd, ...args] = command.split(" ");
                    switch (cmd) {
                        case "help":
                            this.showHelp();
                            break;
                        case "whoami":
                            this.showAboutMe();
                            break;
                        case "ls":
                            this.listProjects(args[0]);
                            break;
                        case "cd":
                            this.changeDirectory(args[0]);
                            break;
                        case "cat":
                            // Join all arguments to handle project names with spaces
                            this.showProjectDetails(args.join(" "));
                            break;
                        case "clear":
                            this.clearTerminal();
                            break;
                        case "contact":
                            this.showContacts();
                            break;
                        default:
                            this.printLine(
                                `<span class="error">bash: ${cmd}: command not found</span>`,
                            );
                    }
                },
                printWelcome() {
                    this.printLine(
                        "Welcome to my Interactive Portfolio Terminal!",
                    );
                    this.printLine('Type "help" to see available commands');
                },
                showHelp() {
                    this.printLine("Available commands:");
                    this.printLine("- help: Show this help menu");
                    this.printLine("- whoami: Display information about me");
                    this.printLine(
                        "- ls [directory]: List projects in a directory",
                    );
                    this.printLine(
                        "- cd [directory]: Change current directory",
                    );
                    this.printLine(
                        "- cat [project-name]: Show project summary and repository",
                    );
                    this.printLine("- contact: Show contact information");
                    this.printLine("- clear: Clear the terminal");
                },
                showAboutMe() {
                    this.printLine(
                        "About Me: I enjoy working with dataâ€”analyzing it, building dashboards, and exploring machine learning to solve problems. I like turning complex data into something clear and useful.",
                    );
                    this.printLine("Role: Data analyst");
                    this.printLine(
                        "Skills: Machine Learning, Data Analysis, Python",
                    );
                    this.printLine("What I know: Python, R, Linux");
                    this.printLine(
                        "What im learning: C, Golang, Deep Learning (keras + tensorflow)",
                    );
                },
                listProjects(directory = "") {
                    const dirs = Object.keys(this.projects);
                    if (!directory) {
                        this.printLine(
                            "Available Directories (hint: cd data-analytics):",
                        );
                        dirs.forEach((dir) => this.printLine(`ðŸ“ ${dir}`));
                        return;
                    }
                    const projectList = this.projects[directory];
                    if (projectList) {
                        this.printLine(
                            `Projects in ${directory} (hint: cat ${projectList[0].name}):`,
                        );
                        projectList.forEach((project) => {
                            this.printLine(
                                `<span class="project-name">â€¢ ${project.name}</span>`,
                            );
                        });
                    } else {
                        this.printLine(
                            `<span class="error">Directory not found: ${directory}</span>`,
                        );
                    }
                },
                changeDirectory(directory) {
                    const dirs = Object.keys(this.projects);
                    if (dirs.includes(directory)) {
                        this.currentDirectory = `~/${directory}`;
                        this.currentProjects = this.projects[directory];
                        this.printLine(
                            `Changed directory to ${this.currentDirectory}`,
                        );
                        // Automatically list projects in the directory
                        this.listProjects(directory);
                    } else if (directory === "..") {
                        this.currentDirectory = "~";
                        this.currentProjects = null;
                        this.printLine("Returned to home directory");
                    } else {
                        this.printLine(
                            `<span class="error">bash: cd: ${directory}: No such file or directory</span>`,
                        );
                    }
                },
                showProjectDetails(projectName) {
                    // If no current projects, search across all projects
                    const searchProjects =
                        this.currentProjects ||
                        Object.values(this.projects).flat();
                    const project = searchProjects.find(
                        (p) =>
                            p.name.toLowerCase() === projectName.toLowerCase(),
                    );
                    if (project) {
                        this.printLine(
                            `<span class="project-name">${project.name}</span>`,
                        );
                        this.printLine(
                            `<span class="project-description">Summary: ${project.summary}</span>`,
                        );
                        this.printLine("Technologies:");
                        project.technologies.forEach((tech) =>
                            this.printLine(`  â€¢ ${tech}`),
                        );
                        this.printLine(
                            `Repository: <a href="${project.repo}" class="project-repo">${project.repo}</a>`,
                        );
                    } else {
                        this.printLine(
                            `<span class="error">Project not found: ${projectName}</span>`,
                        );
                    }
                },
                showContacts() {
                    this.printLine("Contact Information:");
                    this.printLine(
                        `GitHub: <span class="project-repo">${this.contacts.github}</span>`,
                    );
                    this.printLine(
                        `Kaggle: <span class="project-repo">${this.contacts.kaggle}</span>`,
                    );
                },
                printLine(message) {
                    const lineElement = document.createElement("div");
                    lineElement.innerHTML = message;
                    this.output.appendChild(lineElement);
                    this.output.scrollTop = this.output.scrollHeight;
                },
                clearTerminal() {
                    this.output.innerHTML = "";
                    this.printWelcome();
                },
            };
            // Initialize the terminal
            terminal.init();
        </script>
    </body>
</html>
